(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{138:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(32),r=n.n(c),i=n(10),l=n(4),o=n(2),u="/",d="/chat",j="/auth",b="/profile",m="/searchUser",h="/friends",f=n(19),x=n(23),v=n(72),p=n.n(v).a.create({baseURL:"https://aws.piotrklebaniuk.pl:443/",withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),O=function(){return p.get("/user/generateFriendList")},g=function(){var e=Object(x.a)(Object(f.a)().mark((function e(){var t,n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("/user/getUser");case 3:return t=e.sent,n={id:t.data._id,email:t.data.email,name:t.data.name,lastName:t.data.lastName,friends:t.data.friends,isUserLoggedIn:!0},e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(x.a)(Object(f.a)().mark((function e(){var t,n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:if(200!==(t=e.sent).status){e.next=6;break}return n=t.data.friendList,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=n(0),S=function(){return Object(w.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDarkDropdown","aria-controls":"navbarNavDarkDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(w.jsx)("span",{className:"navbar-toggler-icon"})})},N=function(e){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(i.b,{to:e.link,className:"navbar-brand",children:Object(w.jsxs)("div",{className:"d-flex flex-row mt-3",children:[Object(w.jsx)("div",{className:"me-1",children:Object(w.jsx)("img",{src:e.logo,alt:"logo",style:{height:"4vh"}})}),Object(w.jsx)("p",{children:e.value})]})})})},E=function(e){return Object(w.jsx)("li",{children:Object(w.jsx)(i.b,{to:e.path,className:"dropdown-item",children:e.value})})},L=function(e){return Object(w.jsx)("a",{className:"nav-link dropdown-toggle",href:"",id:"navbarDarkDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:e.value})},I=function(){return Object(w.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDarkDropdown",children:Object(w.jsx)("ul",{className:"navbar-nav",children:Object(w.jsxs)("li",{className:"nav-item dropdown",children:[Object(w.jsx)(L,{value:"Navigation"}),Object(w.jsxs)("ul",{className:"dropdown-menu dropdown-menu-dark","aria-labelledby":"navbarDarkDropdownMenuLink",children:[Object(w.jsx)(E,{value:"Main",path:"/"}),Object(w.jsx)(E,{value:"Login",path:"/Auth"}),Object(w.jsx)(E,{value:"User Info",path:"/Profile"}),Object(w.jsx)(E,{value:"Friends",path:"/friends"})]})]})})})},_=n(6),T=function(e){return Object(w.jsx)("div",{className:"nav-item vh-6 vw-10 text-decoration-none",style:{opacity:e.opacity,color:"white",marginTop:"0.5vh"},children:Object(w.jsx)("h5",{children:e.email})})},D=function(e){var t=Object(a.useState)(!1),n=Object(_.a)(t,2),s=n[0],c=n[1];return Object(w.jsx)(w.Fragment,{children:s?Object(w.jsx)(i.b,{to:"/profile",className:"text-decoration-none",children:Object(w.jsx)("div",{onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:Object(w.jsx)(T,{email:e.email,opacity:"1.0"})})}):Object(w.jsx)(i.b,{to:"/profile",className:"text-decoration-none",children:Object(w.jsx)("div",{onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:Object(w.jsx)(T,{email:e.email,opacity:"0.6"})})})})},R=function(e){return Object(w.jsx)("button",{type:"submit",className:"btn btn-primary m-3 btn-lg vh-5",children:e.value})},F=function(){var e=Object(o.b)(),t=Object(l.g)(),n=function(n){n.preventDefault();var a,s=n.currentTarget;try{if(null!==s&&null!==s.searchPhraze||""!==s.searchPhraze){var c=s.searchPhraze.value.toString();(a={searchPhraze:c},p.post("/user/searchUser",a)).then((function(n){if(200===n.status){var a=n.data.result;e({type:"SEARCH_USERS",payload:a}),t.push(m)}})).catch((function(){e({type:"CLEAR_SEARCH_USERS"}),alert("No users found")}))}else alert("Fill the form")}catch(r){console.log(r)}};return Object(w.jsx)("div",{style:{color:"blue"},className:"",children:Object(w.jsx)("div",{className:"d-flex flex-row vh-12",children:Object(w.jsx)("form",{onSubmit:function(e){return n(e)},children:Object(w.jsxs)("div",{className:"d-flex flex-row vh-12",children:[Object(w.jsx)("div",{className:"mt-1",children:Object(w.jsx)("input",{name:"searchPhraze",type:"text",placeholder:"search user",className:"rounded bg-secondary text-white",style:{height:"5vh",marginTop:"1.5vh"},required:!0})}),Object(w.jsx)("div",{children:Object(w.jsx)(R,{value:"search"})})]})})})})},k=function(e){return Object(w.jsx)("button",{type:e.type,className:"btn btn-outline-primary m-2 btn-lg",style:{height:"6vh"},children:e.value})},C=function(){var e=Object(o.b)(),t=Object(l.g)(),n=Object(o.c)((function(e){return e.userData})),a=function(){p.get("/user/logout").then((function(){e({type:"LOGOUT"}),e({type:"CLEAR_FULFILLED_FRIENDLIST"}),e({type:"CLEAR_CURRENT_CHAT"}),e({type:"CLEAR_MESSAGE_LIST"}),t.push("/auth")}))};return Object(w.jsx)(w.Fragment,{children:n.isUserLoggedIn?Object(w.jsx)("div",{onClick:function(){a()},children:Object(w.jsx)(k,{value:"Logout",type:"button"})}):Object(w.jsx)("div",{className:"d-none",onClick:function(){a()},children:Object(w.jsx)(k,{value:"Logout",type:"button"})})})},U=n.p+"static/media/logo.85a46bba.png",A=function(){var e=Object(o.c)((function(e){return e.userData}));return Object(w.jsx)("nav",{className:"navbar sticky-top navbar-expand-lg navbar-dark bg-dark mb-0",style:{height:"10vh"},children:Object(w.jsx)("div",{className:"container-fluid",children:e.isUserLoggedIn?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(N,{value:"Chat",logo:U,link:"/chat"}),Object(w.jsx)(S,{}),Object(w.jsx)(I,{}),Object(w.jsx)(F,{}),Object(w.jsx)(D,{email:e.email}),Object(w.jsx)(C,{})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(N,{value:"Chat",logo:U,link:"/auth"}),Object(w.jsx)(C,{})]})})})},M=function(){return Object(w.jsx)("div",{children:Object(w.jsx)("div",{children:"Main"})})},P=n(35),H=function(e){return Object(w.jsxs)("div",{className:"d-flex flex-column justify-content-between",children:[Object(w.jsxs)("h5",{children:[e.firstname," ",e.lastname]}),Object(w.jsx)("h6",{style:{color:"gray"},children:e.email})]})},q=function(){var e=Object(x.a)(Object(f.a)().mark((function e(t){var n,a,s;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c={friendId:t},p.post("/user/getMessageList",c);case 2:return n=e.sent,a=n.data.messages,a.map((function(e){var t=JSON.parse(e);return{message:t.message,senderId:t.senderId,date:new Date(t.date)}})).sort((function(e,t){return t.date.getTime()-e.date.getTime()})),s=a.map((function(e){var t=JSON.parse(e);return{value:t.message,senderId:t.senderId,date:t.date}})),e.abrupt("return",s);case 7:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e){var t=Object(a.useState)(!1),n=Object(_.a)(t,2),s=n[0],c=n[1],r=Object(o.b)();return Object(w.jsx)("div",{className:"d-flex justify-content-evenly",style:{width:"".concat(e.width,"vw"),cursor:"pointer"},onClick:function(){return function(){var t={_id:e.id,name:e.firstname,lastname:e.lastname,email:e.email};r({type:"SET_CURRENT_CHAT",payload:t}),q(e.id).then((function(e){r({type:"SET_MESSAGE_LIST",payload:e})}))}()},children:s?Object(w.jsxs)("div",{className:"d-flex flex-row justify-content-evenly align-items-center",style:{width:"".concat(e.width,"vw"),height:"".concat(e.height,"vh"),backgroundColor:"#e6e6e6"},onMouseEnter:function(){c(!0)},onMouseLeave:function(){return c(!1)},children:[Object(w.jsx)("img",{style:{height:"".concat(e.imgHeight,"vh")},className:"rounded-circle",src:e.img,alt:"profile picture"}),Object(w.jsx)("div",{className:"d-flex flex-column justify-content-between w-50",children:Object(w.jsx)(H,{firstname:e.firstname,lastname:e.lastname,email:e.email})})]}):Object(w.jsxs)("div",{className:"d-flex flex-row justify-content-evenly align-items-center",style:{width:"".concat(e.width,"vw"),height:"".concat(e.height,"vh")},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:[Object(w.jsx)("img",{style:{height:"".concat(e.imgHeight,"vh")},className:"rounded-circle",src:e.img,alt:"profile picture"}),Object(w.jsx)("div",{className:"d-flex flex-column justify-content-between w-50",children:Object(w.jsx)(H,{firstname:e.firstname,lastname:e.lastname,email:e.email})})]})})},J=n.p+"static/media/profilePicture.0334f4b4.png",z=function(){var e=Object(o.c)((function(e){return e.friendList}));return Object(w.jsx)("div",{className:"border-1 border-end float-start overflow-auto bg-light",style:{width:"30vw",height:"90vh"},children:e.map((function(e){if(e.friendRequestStatus&&e._id)return Object(w.jsx)("div",{children:Object(w.jsx)(G,{firstname:e.name,lastname:e.lastName,email:e.email,img:J,imgHeight:"5",height:"10",width:"30",id:e._id})},e._id)}))})},V=function(e){var t=e.isUserSender?"#1a75ff":"#f2f2f2",n=e.isUserSender?"float-end":"float-start",a=e.isUserSender?"white":"black";return Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:"".concat(n),style:{width:"60%"},children:Object(w.jsx)("div",{className:"".concat(n),children:Object(w.jsx)("p",{className:"rounded-pill p-2 m-2 ps-3 pe-3",style:{backgroundColor:t,fontSize:"2.2vh",color:a},children:e.messageValue})})})})},W=function(){var e=Object(o.c)((function(e){return e.messageList})),t=Object(o.c)((function(e){return e.userData}));return Object(w.jsx)("div",{className:"border-bottom d-flex flex-column overflow-auto",style:{width:"70vw",height:"79vh"},children:function(){for(var n=[],a=e.length-1;a>=0;a--){var s=e[a];n.push(Object(w.jsx)(V,{messageValue:s.value,isUserSender:s.senderId===t.id},a))}return n}()})},B=function(){var e=Object(o.c)((function(e){return e.currentChat}));return Object(w.jsx)("div",{className:"d-flex justify-content-center align-center text-center float-end border-bottom",style:{height:"4vh",width:"70vw"},children:Object(w.jsxs)("h4",{children:[e.name," ",e.lastname]})})},K=function(e){return Object(w.jsx)("input",{type:e.inputType,className:"form-control",name:e.name,placeholder:e.placeholder})},Q=function(e){return Object(w.jsx)("button",{type:e.type,className:"btn btn-outline-success",children:Object(w.jsx)("i",{children:e.value})})},X=function(){Object(o.b)();var e="https://aws.piotrklebaniuk.pl:443/",t=Object(o.c)((function(e){return e.currentChat})),n=Object(o.c)((function(e){return e.userData}));return Object(w.jsx)("form",{onSubmit:function(a){return function(a){a.preventDefault();var s=a.currentTarget;if(null!==s&&null!==s.message){var c=s.message.value,r=n.id;Object(P.io)(e).emit("send message",c,r,t._id),s.message.value=""}}(a)},style:{height:"7vh"},children:Object(w.jsxs)("div",{className:"d-flex flex-row justify-content-center",children:[Object(w.jsx)("div",{className:"d-flex flex-column justify-content-center pe-2",style:{height:"7vh",width:"61vw"},children:Object(w.jsx)(K,{inputType:"text",name:"message",placeholder:"Send Message"})}),Object(w.jsx)("div",{className:"d-flex flex-column justify-content-center ps-2",style:{height:"7vh"},children:Object(w.jsx)(Q,{type:"submit",value:"send"})})]})})},Y=function(){var e="https://aws.piotrklebaniuk.pl:443/",t=Object(o.b)(),n=Object(o.c)((function(e){return e.currentChat})),s=Object(o.c)((function(e){return e.userData}));return Object(a.useEffect)((function(){Object(P.io)(e).on("".concat(s.id,":").concat(n._id),(function(e){t({type:"ADD_MESSAGE",payload:{value:e.message,senderId:e.senderId}})}))}),[s.id,n._id]),Object(w.jsxs)("div",{children:[Object(w.jsx)(z,{}),Object(w.jsx)(B,{}),Object(w.jsx)(W,{}),Object(w.jsx)(X,{})]})},Z=function(e){return Object(w.jsx)("input",{type:e.inputType,className:"form-control",name:e.name,placeholder:"name@example.com"})},$=function(e){return Object(w.jsxs)("div",{className:"form-floating mb-3 w-50",children:[Object(w.jsx)(Z,{name:e.name,inputType:e.inputType}),Object(w.jsx)("label",{htmlFor:e.value,children:e.value})]})},ee=function(){return Object(w.jsx)("input",{onClick:function(){},type:"checkbox",className:"form-check-input",id:"form-checkbox"})},te=function(e){var t=Object(o.c)((function(e){return e.showPassword})),n=Object(o.b)();return Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)("div",{onClick:function(){n({type:"SET_IS_SHOW_PASSWORD",payload:!t})},children:Object(w.jsx)(ee,{})}),Object(w.jsx)("label",{className:"form-check-label",htmlFor:"showPassword",children:e.value})]})},ne=function(e){var t=Object(o.b)();return Object(w.jsx)("button",{type:"button",className:"btn btn-link m-3",onClick:function(){e.setIsSignIn(!e.isSignIn),t({type:"SET_IS_SHOW_PASSWORD",payload:!1})},children:e.value})},ae=function(e){return Object(w.jsx)("div",{className:"card-title",style:{fontSize:"xxx-large"},children:e.value})},se=function(e){var t=e.value,n=e.setIsSignIn,a=Object(o.c)((function(e){return e.showPassword})),s=Object(o.b)(),c=Object(l.g)(),r=function(e){e.preventDefault();try{var t=e.currentTarget;null!==t&&null!==t.email&&null!==t.password&&(n={email:t.email.value.toString(),password:t.password.value.toString()},p.post("/user/signin",n)).then((function(e){if(200===e.status){var t={id:e.data.result._id,email:e.data.result.email,name:e.data.result.name,lastName:e.data.result.lastName,friends:e.data.result.friends,isUserLoggedIn:!0};s({type:"SET_USER_DATA",payload:t}),s({type:"SET_IS_LOGGED_IN",payload:!0}),y().then((function(e){s({type:"SET_FULFILLED_FRIENDLIST",payload:e})})),c.push("/chat")}})).catch((function(e){console.log(e)}))}catch(a){console.log(a)}var n};return Object(w.jsx)("form",{id:"signInForm",onSubmit:function(e){r(e)},children:Object(w.jsxs)("div",{className:"position-absolute w-75 d-flex align-items-center \n                justify-content-center card border-2 bg-light ",style:{fontSize:"large",left:"50%",top:"55%",transform:"translate(-50%, -50%)"},children:[Object(w.jsx)(ae,{value:"Login"}),Object(w.jsx)($,{inputType:"email",value:"Email address",name:"email"}),a?Object(w.jsx)($,{value:"Password",inputType:"text",name:"password"}):Object(w.jsx)($,{value:"Password",inputType:"password",name:"password"}),Object(w.jsx)(te,{value:"Show password"}),Object(w.jsx)(R,{value:"Submit"}),Object(w.jsx)("p",{children:"Don't have an account yet? Click the button down below"}),Object(w.jsx)(ne,{value:t,setIsSignIn:n,isSignIn:!0})]})})},ce=function(e){var t=e.value,n=e.setIsSignIn,a=Object(o.c)((function(e){return e.showPassword})),s=Object(l.g)(),c=Object(o.b)(),r=function(e){e.preventDefault();try{var t=e.currentTarget;null!==t&&null!==t.username&&null!==t.lastName&&null!==t.email&&null!==t.password&&i(t)?(n={email:t.email.value.toString(),name:t.username.value.toString(),lastName:t.lastName.value.toString(),password:t.password.value.toString()},p.post("/user/signup",n)).then((function(e){if(200===e.status){var t={id:e.data.result._id,email:e.data.result.email,name:e.data.result.name,lastName:e.data.result.lastName,friends:e.data.result.friends,isUserLoggedIn:!0};c({type:"SET_USER_DATA",payload:t}),c({type:"SET_IS_LOGGED_IN",payload:!0}),s.push("/chat")}else console.log(e)})).catch((function(e){console.log(e)})):alert("Fill all the fields correctly")}catch(a){console.log(a)}var n},i=function(e){return e.password.value==e.confirmPassword.value};return Object(w.jsx)("form",{onSubmit:function(e){r(e)},children:Object(w.jsxs)("div",{className:"position-absolute w-75 d-flex align-items-center \n                justify-content-center card border-2 bg-light ",style:{fontSize:"large",left:"50%",top:"55%",transform:"translate(-50%, -50%)"},children:[Object(w.jsx)(ae,{value:"Register"}),Object(w.jsx)($,{inputType:"email",value:"Email address",name:"email"}),Object(w.jsx)($,{inputType:"text",value:"Name",name:"username"}),Object(w.jsx)($,{inputType:"text",value:"Last Name",name:"lastName"}),a?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)($,{value:"Password",inputType:"text",name:"password"}),Object(w.jsx)($,{value:"Repeat Password",inputType:"text",name:"confirmPassword"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)($,{value:"Password",inputType:"password",name:"password"}),Object(w.jsx)($,{value:"Repeat Password",inputType:"password",name:"confirmPassword"})]}),Object(w.jsx)(te,{value:"Show password"}),Object(w.jsx)(R,{value:"Submit"}),Object(w.jsx)("p",{children:"Already have an account? Click the button down below"}),Object(w.jsx)(ne,{value:t,setIsSignIn:n,isSignIn:!1})]})})},re=function(){var e=Object(a.useState)(!0),t=Object(_.a)(e,2),n=t[0],s=t[1];return Object(w.jsx)("div",{children:n?Object(w.jsx)(se,{value:"Register",setIsSignIn:s}):Object(w.jsx)(ce,{value:"Login",setIsSignIn:s})})},ie=function(e){return Object(w.jsxs)("div",{className:"form-floating mb-3",children:[e.isDisabled?Object(w.jsx)("input",{type:"text",name:e.name,className:"form-control",placeholder:e.placeholder,disabled:!0}):Object(w.jsx)("input",{type:"text",name:e.name,className:"form-control",placeholder:e.placeholder}),Object(w.jsx)("label",{htmlFor:"floatingInput",children:e.value})]})},le=function(e){return Object(w.jsxs)("div",{className:"d-flex flex-row align-items-center justify-content-center",children:[Object(w.jsxs)("p",{className:"mb-3 me-2",style:{width:"7vw",fontSize:"2.3vh"},children:[e.label,":"]}),Object(w.jsx)(ie,{name:e.name,value:e.value,placeholder:e.value,isDisabled:e.isDisabled})]})},oe=function(e){var t=Object(a.useState)(!0),n=Object(_.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(_.a)(r,2),l=i[0],u=i[1],d=Object(a.useState)(!0),j=Object(_.a)(d,2),b=j[0],m=j[1],h=Object(o.b)(),f=Object(o.c)((function(e){return e.userData})),x=function(e){e.preventDefault();try{var t=e.currentTarget;if(null!==t&&null!==t.firstname&&null!==t.email&&null!==t.lastname){""===t.firstname.value.toString()&&(t.firstname.value=f.name),""===t.lastname.value.toString()&&(t.lastname.value=f.lastName),""===t.email.value.toString()&&(t.email.value=f.email);var n={name:t.firstname.value.toString(),email:t.email.value.toString(),lastname:t.lastname.value.toString()};(a=n,p.post("/user/updateUser",a)).then((function(e){if(200===e.status){var t={id:e.data.result._id,email:e.data.result.email,name:e.data.result.name,lastName:e.data.result.lastName,friends:e.data.result.friends,isUserLoggedIn:!0};h({type:"SET_USER_DATA",payload:t}),c(!0),m(!0),u(!1)}else 201===e.status&&alert(e.data.message+" change to antoher email")})).catch((function(e){console.log(e)}))}}catch(s){console.log(s)}var a};return Object(w.jsx)("form",{onSubmit:function(e){return x(e)},children:Object(w.jsxs)("div",{className:"d-flex  card text-center",style:{fontSize:"2vh"},children:[Object(w.jsx)("div",{className:"card-header",children:Object(w.jsx)("h1",{children:e.headerValue})}),Object(w.jsxs)("div",{className:"d-flex justify-content-center card-body",children:[Object(w.jsx)("img",{src:e.img,alt:"profile",style:{height:"30vh"}}),Object(w.jsxs)("div",{className:"d-flex justify-content-between flex-column flex-column w-50 h-full pt-2",children:[Object(w.jsx)(le,{value:e.firstname,label:"Firstname",isDisabled:s,name:"firstname"}),Object(w.jsx)(le,{value:e.lastname,label:"Lastname",isDisabled:s,name:"lastname"}),Object(w.jsx)(le,{value:e.email,label:"Email",isDisabled:s,name:"email"})]})]}),Object(w.jsxs)("div",{className:"card-footer text-muted",children:[Object(w.jsx)("i",{className:"ms-5",children:e.footerValue}),Object(w.jsxs)("div",{className:"float-end",children:[b?Object(w.jsx)("button",{type:"button",className:"btn btn-outline-info me-2",onClick:function(){c(!1),m(!1),u(!0)},children:"edit"}):Object(w.jsx)("button",{type:"button",className:"btn btn-outline-info me-2 d-none",onClick:function(){c(!1),m(!1),u(!0)},children:"edit"}),l?Object(w.jsx)("button",{type:"submit",className:"btn btn-outline-primary",children:"update"}):Object(w.jsx)("button",{className:"btn btn-outline-primary",disabled:!0,children:"update"})]})]})]})})},ue=function(){var e=Object(o.c)((function(e){return e.userData}));return Object(w.jsx)("div",{className:"d-flex justify-content-center align-items-center w-100 h-75",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -40%)"},children:Object(w.jsx)("div",{className:"w-75 h-75",children:Object(w.jsx)(oe,{headerValue:"Profile Data",footerValue:"klebaniukp chat template",firstname:e.name,lastname:e.lastName,email:e.email,img:J,imgHeight:"25"})})})},de=n(21),je=function(e){return Object(w.jsx)("button",{type:"button",className:"btn btn-success",disabled:!0,children:e.value})},be=function(e){return Object(w.jsx)("button",{type:"button",className:"btn btn-info",disabled:!0,children:e.value})},me=function(e){var t=Object(a.useState)(!1),n=Object(_.a)(t,2),s=n[0],c=n[1],r=Object(o.b)(),i=Object(o.c)((function(e){return e.searchResults})),l=function(){var t;(t={id:e.id},p.post("/user/sendFriendRequest",t)).then((function(t){if(200===t.status){var n=i.map((function(t){if(t._id===e.id){return Object(de.a)(Object(de.a)({},t),{},{friendRequestStatus:!1})}return Object(de.a)({},t)}));r({type:"SEARCH_USERS",payload:n})}})).catch((function(e){console.log(e)}))},u=function(){return!0===e.isFriend?Object(w.jsx)(je,{value:"friend"}):!1===e.isFriend?Object(w.jsx)(be,{value:"pending"}):null===e.isFriend?Object(w.jsx)("div",{onClick:function(){return l()},children:Object(w.jsx)(k,{type:"submit",value:"add"})}):void 0};return Object(w.jsx)("div",{className:"d-flex justify-content-evenly border border-2 mb-1 mt-1",style:{width:"".concat(e.width,"vw")},children:s?Object(w.jsxs)("div",{className:"d-flex flex-row justify-content-evenly align-items-center",style:{width:"".concat(e.width,"vw"),height:"".concat(e.height,"vh"),backgroundColor:"#e6e6e6"},onMouseEnter:function(){c(!0)},onMouseLeave:function(){return c(!1)},children:[Object(w.jsx)("img",{style:{height:"".concat(e.imgHeight,"vh")},className:"rounded-circle",src:e.img,alt:"profile picture"}),Object(w.jsx)("div",{className:"d-flex flex-column justify-content-between w-50",children:Object(w.jsx)(H,{firstname:e.firstname,lastname:e.lastname,email:e.email})}),u()]}):Object(w.jsxs)("div",{className:"d-flex flex-row justify-content-evenly align-items-center",style:{width:"".concat(e.width,"vw"),height:"".concat(e.height,"vh")},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:[Object(w.jsx)("img",{style:{height:"".concat(e.imgHeight,"vh")},className:"rounded-circle",src:e.img,alt:"profile picture"}),Object(w.jsx)("div",{className:"d-flex flex-column justify-content-between w-50",children:Object(w.jsx)(H,{firstname:e.firstname,lastname:e.lastname,email:e.email})}),u()]})})},he=function(){var e=Object(o.c)((function(e){return e.searchResults}));return Object(w.jsx)("div",{className:"d-flex flex-wrap flex-column justify-content-center align-item-center m-auto",style:{width:"100vw"},children:function(){for(var t=[],n=0;n<e.length;n++){var a=Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:"d-flex flex-row justify-content-center",children:Object(w.jsx)(me,{img:J,width:"50",height:"10",imgHeight:"6",firstname:e[n].name,lastname:e[n].lastName,email:e[n].email,isFriend:e[n].friendRequestStatus,id:e[n]._id,index:n})})},e[n]._id);t.push(a)}return window.scrollTo(0,0),t}()})},fe=function(e){return Object(w.jsx)("button",{type:"button",className:"btn btn-danger",children:e.value})},xe=function(){return Object(w.jsx)("button",{type:"button",className:"btn btn-outline-danger",children:Object(w.jsx)("i",{children:"reject"})})},ve=function(e){var t=Object(a.useState)(!1),n=Object(_.a)(t,2),s=n[0],c=n[1],r=Object(o.b)(),i=function(t){var n;(n={friendId:e.id,finalStatus:t},p.post("/user/manageFriendRequest",n)).then((function(e){200===e.status&&O().then((function(e){if(200===e.status){var t=e.data.friendList;t.length>0?r({type:"SET_FULFILLED_FRIENDLIST",payload:t}):r({type:"SET_FULFILLED_FRIENDLIST",payload:[]})}})).catch((function(e){console.log(e)}))}))},l=function(){var t;(t={friendId:e.id},p.post("/user/removeFriend",t)).then((function(e){200===e.status&&O().then((function(e){if(200===e.status){var t=e.data.friendList;t.length>0?r({type:"SET_FULFILLED_FRIENDLIST",payload:t}):r({type:"SET_FULFILLED_FRIENDLIST",payload:[]})}})).catch((function(e){console.log(e)}))}))},u=function(){return e.friendRequestStatus?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{children:Object(w.jsx)(je,{value:"friend"})}),Object(w.jsx)("div",{onClick:function(){return l()},children:Object(w.jsx)(fe,{value:"delete"})})]}):e.isUserSender?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{children:Object(w.jsx)(be,{value:"pending"})}),Object(w.jsx)("div",{onClick:function(){return i(!1)},children:Object(w.jsx)(fe,{value:"cancel"})})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{onClick:function(){return i(!0)},children:Object(w.jsx)(Q,{type:"button",value:"accept"})}),Object(w.jsx)("div",{onClick:function(){return i(!1)},children:Object(w.jsx)(xe,{})})]})};return Object(w.jsx)("div",{className:"d-flex justify-content-evenly border border-2 mb-1 mt-1",style:{width:"".concat(e.width,"vw")},children:s?Object(w.jsxs)("div",{className:"d-flex flex-row justify-content-evenly align-items-center",style:{width:"".concat(e.width,"vw"),height:"".concat(e.height,"vh"),backgroundColor:"#e6e6e6"},onMouseEnter:function(){c(!0)},onMouseLeave:function(){return c(!1)},children:[Object(w.jsx)("img",{style:{height:"".concat(e.imgHeight,"vh")},className:"rounded-circle",src:e.img,alt:"profile picture"}),Object(w.jsx)("div",{className:"d-flex flex-column justify-content-between w-50",children:Object(w.jsx)(H,{firstname:e.firstname,lastname:e.lastname,email:e.email})}),u()]}):Object(w.jsxs)("div",{className:"d-flex flex-row justify-content-evenly align-items-center",style:{width:"".concat(e.width,"vw"),height:"".concat(e.height,"vh")},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:[Object(w.jsx)("img",{style:{height:"".concat(e.imgHeight,"vh")},className:"rounded-circle",src:e.img,alt:"profile picture"}),Object(w.jsx)("div",{className:"d-flex flex-column justify-content-between w-50",children:Object(w.jsx)(H,{firstname:e.firstname,lastname:e.lastname,email:e.email})}),u()]})})},pe=function(){var e=Object(o.c)((function(e){return e.userData})),t=Object(o.c)((function(e){return e.friendList}));return Object(w.jsx)("div",{className:"d-flex flex-column justify-content \n            center card w-50 h-100 align-items-center overflow-auto m-auto",children:t.map((function(t){return Object(w.jsx)("div",{children:Object(w.jsx)(ve,{firstname:t.name,lastname:t.lastName,email:t.email,img:J,imgHeight:"6",width:"50",height:"10",isUserSender:t.senderId===e.id,friendRequestStatus:t.friendRequestStatus,id:t._id})},t.email)}))})},Oe=function(){var e=Object(o.b)();return Object(a.useEffect)((function(){y().then((function(t){e({type:"SET_FULFILLED_FRIENDLIST",payload:t})}))}),[]),Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(pe,{})})},ge=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.userData}));return Object(a.useEffect)((function(){g().then((function(t){t&&e({type:"SET_USER_DATA",payload:t})})),y().then((function(t){e({type:"SET_FULFILLED_FRIENDLIST",payload:t})}))}),[]),Object(w.jsx)(i.a,{children:Object(w.jsxs)("div",{children:[Object(w.jsx)(A,{}),Object(w.jsxs)(l.d,{children:[t.isUserLoggedIn&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(l.b,{exact:!0,path:d,component:Y}),Object(w.jsx)(l.b,{exact:!0,path:j,component:re}),Object(w.jsx)(l.b,{exact:!0,path:b,component:ue}),Object(w.jsx)(l.b,{exact:!0,path:m,component:he}),Object(w.jsx)(l.b,{exact:!0,path:h,component:Oe})]}),Object(w.jsx)(l.b,{exact:!0,path:u,component:M,children:Object(w.jsx)(l.a,{to:j})}),Object(w.jsx)(l.b,{exact:!0,path:j,component:re})]})]})})},ye=n(74),we=n(13),Se=n(75),Ne=Object(we.b)({searchResults:function(e,t){try{switch(t.type){case"SEARCH_USERS":return t.payload;case"CLEAR_SEARCH_USERS":return[{_id:"x",email:"example@gmail.com",name:"Example",lastName:"Friend",friendRequestStatus:null}];default:return e||[{_id:"x",email:"example@gmail.com",name:"Example",lastName:"Friend",friendRequestStatus:null}]}}catch(n){console.log(n)}},userData:function(e,t){try{switch(t.type){case"SET_USER_DATA":return t.payload;case"LOGOUT":return{id:"x",email:"John@Doe.com",name:"John",lastName:"Doe",friends:[{id:"1039274",friendRequestStatus:!1,senderId:"1039274"}],isUserLoggedIn:!1};default:return e||{id:"x",email:"John@Doe.com",name:"John",lastName:"Doe",friends:[{id:"1039274",friendRequestStatus:!1,senderId:"1039274"}],isUserLoggedIn:!1}}}catch(n){console.log(n)}},friendList:function(e,t){try{switch(t.type){case"SET_FULFILLED_FRIENDLIST":return t.payload;case"CLEAR_FULFILLED_FRIENDLIST":return[{email:"John@Doe.com",name:"John",lastName:"Doe",friendRequestStatus:!0,senderId:"not-real-id"}];default:return e||[{email:"John@Doe.com",name:"John",lastName:"Doe",friendRequestStatus:!0,senderId:"not-real-id"}]}}catch(n){console.log(n)}},showPassword:function(e,t){try{return"SET_IS_SHOW_PASSWORD"===t.type&&t.payload}catch(n){console.log(n)}},currentChat:function(e,t){try{switch(t.type){case"SET_CURRENT_CHAT":return t.payload;case"CLEAR_CURRENT_CHAT":return{_id:"",name:"",lastname:"",email:""};default:return e||{_id:"",name:"",lastname:"",email:""}}}catch(n){console.log(n)}},messageList:function(e,t){try{switch(t.type){case"SET_MESSAGE_LIST":return t.payload;case"ADD_MESSAGE":return[t.payload].concat(Object(Se.a)(e));case"CLEAR_MESSAGE_LIST":return[{value:"",senderId:"",date:""}];default:return e||[{value:"",senderId:"",date:""}]}}catch(n){console.log(n)}}}),Ee=Object(ye.a)({reducer:Ne}),Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,139)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};n(130),n(131);r.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(o.a,{store:Ee,children:Object(w.jsx)(ge,{})})}),document.getElementById("root")),Le()}},[[138,1,2]]]);
//# sourceMappingURL=main.e4eb9d93.chunk.js.map